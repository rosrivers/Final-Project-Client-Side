{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eliana\\\\VSCODE\\\\Final_Project\\\\Final-Project-Client-Side\\\\src\\\\components\\\\containers\\\\EditStudentContainer.js\";\nimport Header from './Header';\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport EditStudentView from '../views/EditStudentView';\nimport { Redirect } from 'react-router-dom';\nimport { editStudentThunk, fetchStudentThunk } from '../../store/thunks';\nclass EditStudentContainer extends Component {\n  componentDidMount() {\n    this.props.fetchStudent(this.props.match.params.id);\n  }\n  constructor(props) {\n    super(props);\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n    this.handleSubmit = async event => {\n      event.preventDefault(); // Prevent browser reload/refresh after submit.\n      let {\n        student\n      } = this.props;\n      student = {\n        firstname: this.state.firstname,\n        lastname: this.state.lastname,\n        campusId: this.state.campusId,\n        id: student.id\n      };\n      await this.props.editStudent(student);\n      this.setState({\n        redirect: true\n      });\n    };\n    this.state = {\n      redirect: false\n    };\n  }\n  render() {\n    const {\n      student\n    } = this.props;\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: `/students`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(EditStudentView, {\n      student: student,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }));\n  }\n}\nconst mapState = state => {\n  return {\n    student: state.student\n  };\n};\nconst mapDispatch = dispatch => {\n  return {\n    fetchStudent: id => dispatch(fetchStudentThunk(id)),\n    editStudent: student => dispatch(editStudentThunk(student))\n  };\n};\nexport default connect(mapState, mapDispatch)(EditStudentContainer);","map":{"version":3,"names":["Header","React","Component","connect","EditStudentView","Redirect","editStudentThunk","fetchStudentThunk","EditStudentContainer","componentDidMount","props","fetchStudent","match","params","id","constructor","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","student","firstname","state","lastname","campusId","editStudent","redirect","render","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mapState","mapDispatch","dispatch"],"sources":["C:/Users/Eliana/VSCODE/Final_Project/Final-Project-Client-Side/src/components/containers/EditStudentContainer.js"],"sourcesContent":["import Header from './Header';\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport EditStudentView from '../views/EditStudentView';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { editStudentThunk, fetchStudentThunk } from '../../store/thunks';\r\n\r\nclass EditStudentContainer extends Component {\r\n    componentDidMount() {\r\n        this.props.fetchStudent(this.props.match.params.id);\r\n    }\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            redirect: false\r\n        };\r\n    }\r\n    handleChange = event => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    handleSubmit = async event => {\r\n        event.preventDefault();  // Prevent browser reload/refresh after submit.\r\n        let { student } = this.props;\r\n        student = {\r\n            firstname: this.state.firstname,\r\n            lastname: this.state.lastname,\r\n            campusId: this.state.campusId,\r\n            id: student.id\r\n        };\r\n\r\n        await this.props.editStudent(student);\r\n        this.setState({\r\n            redirect: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const { student } = this.props;\r\n\r\n        if (this.state.redirect) {\r\n            return (<Redirect to={`/students`} />)\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <EditStudentView student={student} handleChange={this.handleChange} handleSubmit={this.handleSubmit} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return {\r\n        student: state.student, \r\n    };\r\n};\r\n\r\nconst mapDispatch = (dispatch) => {\r\n    return {\r\n        fetchStudent: (id) => dispatch(fetchStudentThunk(id)),\r\n        editStudent: (student) => dispatch(editStudentThunk(student))\r\n    };\r\n};\r\n\r\nexport default connect(mapState, mapDispatch)(EditStudentContainer) \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}